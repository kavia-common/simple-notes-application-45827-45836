{"is_source_file": true, "format": "TypeScript", "description": "This file defines a Svelte store for managing notes in a note-taking application. It includes types for Note and NotesState, functions for creating, updating, deleting, and selecting notes, persistence logic using JSON read/write, and store creation with public interface methods for external use.", "external_files": ["$lib/utils/env"], "external_methods": ["readJSON", "writeJSON"], "published": ["notesStore"], "classes": [], "methods": [{"name": "function createNotesStore() { createNotesStore", "description": "Creates a Svelte writable store that manages the notes state, providing methods for CRUD operations and selection.", "scope": "", "scopeKind": ""}, {"name": "function createId(): string { createId", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function persist(state: NotesState) { persist", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function sortByUpdated(notes: Note[]): Note[] { sortByUpdated", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["writable", "get", "readJSON", "writeJSON", "Math.random", "Date.now", "update", "sortByUpdated"], "search-terms": ["notes store", "TypeScript note management", "svelte store", "persistent notes storage", "notes CRUD functions"], "state": 2, "file_id": 14, "knowledge_revision": 35, "git_revision": "", "revision_history": [{"29": ""}, {"33": ""}, {"34": ""}, {"35": ""}], "ctags": [{"_type": "tag", "name": "Math", "path": "/home/kavia/workspace/code-generation/simple-notes-application-45827-45836/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^          const next = newNotes[Math.min(idx, newNotes.length - 1)];$/", "language": "TypeScript", "kind": "constant", "scope": "createNotesStore", "scopeKind": "function"}, {"_type": "tag", "name": "Note", "path": "/home/kavia/workspace/code-generation/simple-notes-application-45827-45836/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^export type Note = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "NotesState", "path": "/home/kavia/workspace/code-generation/simple-notes-application-45827-45836/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^export type NotesState = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/simple-notes-application-45827-45836/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^const STORAGE_KEY = \"notes_app_state_v1\";$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "createId", "path": "/home/kavia/workspace/code-generation/simple-notes-application-45827-45836/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^function createId(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "createNotesStore", "path": "/home/kavia/workspace/code-generation/simple-notes-application-45827-45836/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^function createNotesStore() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/simple-notes-application-45827-45836/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^        const idx = s.notes.findIndex((n) => n.id === id);$/", "language": "TypeScript", "kind": "constant", "scope": "createNotesStore", "scopeKind": "function"}, {"_type": "tag", "name": "initialState", "path": "/home/kavia/workspace/code-generation/simple-notes-application-45827-45836/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^const initialState: NotesState = readJSON<NotesState>(STORAGE_KEY, {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "newNotes", "path": "/home/kavia/workspace/code-generation/simple-notes-application-45827-45836/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^        const newNotes = s.notes.filter((n) => n.id !== id);$/", "language": "TypeScript", "kind": "constant", "scope": "createNotesStore", "scopeKind": "function"}, {"_type": "tag", "name": "next", "path": "/home/kavia/workspace/code-generation/simple-notes-application-45827-45836/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^          const next = newNotes[Math.min(idx, newNotes.length - 1)];$/", "language": "TypeScript", "kind": "constant", "scope": "createNotesStore", "scopeKind": "function"}, {"_type": "tag", "name": "note", "path": "/home/kavia/workspace/code-generation/simple-notes-application-45827-45836/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^      const note: Note = {$/", "language": "TypeScript", "kind": "constant", "scope": "createNotesStore", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/simple-notes-application-45827-45836/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^        const notes = s.notes.map((n) =>$/", "language": "TypeScript", "kind": "constant", "scope": "createNotesStore", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/simple-notes-application-45827-45836/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^        const notes = sortByUpdated([note, ...s.notes]);$/", "language": "TypeScript", "kind": "constant", "scope": "createNotesStore", "scopeKind": "function"}, {"_type": "tag", "name": "notesStore", "path": "/home/kavia/workspace/code-generation/simple-notes-application-45827-45836/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^export const notesStore = createNotesStore();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "now", "path": "/home/kavia/workspace/code-generation/simple-notes-application-45827-45836/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^      const now = Date.now();$/", "language": "TypeScript", "kind": "constant", "scope": "createNotesStore", "scopeKind": "function"}, {"_type": "tag", "name": "persist", "path": "/home/kavia/workspace/code-generation/simple-notes-application-45827-45836/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^function persist(state: NotesState) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "s", "path": "/home/kavia/workspace/code-generation/simple-notes-application-45827-45836/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^      const s = get({ subscribe });$/", "language": "TypeScript", "kind": "constant", "scope": "createNotesStore", "scopeKind": "function"}, {"_type": "tag", "name": "set", "path": "/home/kavia/workspace/code-generation/simple-notes-application-45827-45836/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^  const { subscribe, set, update } = writable<NotesState>({$/", "language": "TypeScript", "kind": "constant", "scope": "createNotesStore", "scopeKind": "function"}, {"_type": "tag", "name": "sortByUpdated", "path": "/home/kavia/workspace/code-generation/simple-notes-application-45827-45836/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^function sortByUpdated(notes: Note[]): Note[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "subscribe", "path": "/home/kavia/workspace/code-generation/simple-notes-application-45827-45836/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^  const { subscribe, set, update } = writable<NotesState>({$/", "language": "TypeScript", "kind": "constant", "scope": "createNotesStore", "scopeKind": "function"}, {"_type": "tag", "name": "update", "path": "/home/kavia/workspace/code-generation/simple-notes-application-45827-45836/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^  const { subscribe, set, update } = writable<NotesState>({$/", "language": "TypeScript", "kind": "constant", "scope": "createNotesStore", "scopeKind": "function"}], "hash": "b41dee7cb06fcf689db68d56056d04a9", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/lib/stores/notes.ts"}